document.addEventListener("DOMContentLoaded",function(){class t extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.quantity=1,this.currentVariant="0",this.data=null,this.sku=this.getAttribute("data-sku"),"CP-BI-5000"==this.sku&&(this.sku="CP-PI-5000")}connectedCallback(){this.detectecVariant(),this.render()}static get observedAttributes(){return["data-sku"]}attributeChangedCallback(t,a,e){console.log(t,a,e)}render(){if(console.log("sku",this.sku,"variante-s",this.currentVariant),"0"===this.currentVariant)return this.shadow.innerHTML="",!1;this.getData().then(t=>{let a=0,e=(a=parseInt(t?.data.productDetailViews),console.log("qtaa: ",a),a<10&&(a=10),"people viewed this product in the last 24 hrs");"2"==this.currentVariant&&((a=parseInt(t?.data.uniquePurchases))<10&&(a=10),e="people bought this product in the last 24 hours"),this.shadow.innerHTML=`
            <style>
            @keyframes pulsegreen {
              0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(51, 217, 178, 0.7);
              }
            
              70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(51, 217, 178, 0);
              }
            
              100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(51, 217, 178, 0);
              }
            }
            </style>
            <div part="social-count">
              <div part="social-count-blob" class="social-count-blob"></div>
              <p part="social-count-text">${a} ${e}</p>
            </div>`}).catch(t=>{this.shadow.innerHTML=""})}detectecVariant(){this.currentVariant=1}async getData(){return await(await fetch("https://webhooks.endrock.software/endrockapi/v3/app/analytics/clutch/?productSku="+this.sku)).json()}}window.customElements.define("social-count",t)});