{%- if section.settings.main_logo_image != blank or section.settings.main_heading_text != blank or section.settings.main_button_link != blank or section.blocks.size > 0 -%}
  {%- if section.settings.main_desktop_line_image != blank and section.settings.main_mobile_line_image != blank -%}
    <div class="Page_videos_images_slider_mainfullimage_new" style="background: {{ section.settings.main_line_color }};">
      <div class="Page_videos_images_slider_innerfullimage_new">
        {%- if section.settings.main_desktop_line_image != blank -%}
          {%- assign img_url = section.settings.main_desktop_line_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
          <img class="desktop_image_new lazyload"
            data-src="{{ img_url }}"
            data-widths="[180, 360, 540, 750, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
            data-aspectratio="{{ section.settings.main_desktop_line_image.aspect_ratio }}"
            data-sizes="auto"
            alt="{{ section.settings.main_desktop_line_image.alt }}">
        {%- endif -%}
        {%- if section.settings.main_mobile_line_image != blank -%}
          {%- assign img_url = section.settings.main_mobile_line_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
          <img class="mobile_image_new lazyload"
            data-src="{{ img_url }}"
            data-widths="[180, 360, 540, 750, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
            data-aspectratio="{{ section.settings.main_mobile_line_image.aspect_ratio }}"
            data-sizes="auto"
            alt="{{ section.settings.main_mobile_line_image.alt }}">
        {%- endif -%}
      </div>
    </div>
  {%- endif -%}
  <div class="Page_videos_images_slider_main_new {{ section.settings.customClass }}" style="background: {{ section.settings.main_back_color }};">
    <div class="page-width">
      <div class="Page_videos_images_slider_inner_new">
        {%- if section.settings.main_logo_image != blank -%}
          <div class="Page_videos_images_slider_mainimage_new">
            <div class="Page_videos_images_slider_innerimage_new">
              {%- assign img_url = section.settings.main_logo_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
              <img class="Icon_image_new lazyload"
                data-src="{{ img_url }}"
                data-widths="[180, 360, 540, 750, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
                data-aspectratio="{{ section.settings.main_logo_image.aspect_ratio }}"
                data-sizes="auto"
                alt="{{ section.settings.main_logo_image.alt }}">
            </div>
          </div>
        {%- endif -%}
        {%- if section.settings.main_heading_text != blank -%}
          <div class="common_title_new Page_videos_images_slider_title_new">
            <h2>{{ section.settings.main_heading_text }}</h2>
          </div>
        {%- endif -%}
        {%- if section.blocks.size > 0 -%}
          <div class="Page_videos_images_slider_mainloop_new">
            <div class="Page_videos_images_slider_innerloop_new">
              <div class="swiper swiper-container Page_videos_images_slider">
                <div class="swiper-wrapper">
                  {%- for block in section.blocks -%}
                    {%- if block.settings.vimeo_video_url != blank or block.settings.main_video_url != blank or block.settings.main_desktop_image != blank or block.settings.main_mobile_image != blank -%}
                      <div class="swiper-slide Page_videos_images_slider_innerloop_mainbox_new">
                        <div class="Page_videos_images_slider_innerloop_innerbox_new">
                          {%- if block.settings.vimeo_video_url != blank -%}
                            <div class="Page_videos_images_slider_innerloop_innerbox_videoimage_new">
                              <iframe src="https://player.vimeo.com/video/{{ block.settings.vimeo_video_url.id }}" width="287" height="512" frameborder="0" allowfullscreen></iframe>
                            </div>
                          {%- elsif block.settings.main_video_url != blank -%}
                            <div class="Page_videos_images_slider_innerloop_innerbox_videoimage_new mp4_play_video_new">
                              <div class="play_video_new">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                  <g clip-path="url(#clip0_1_1411)">
                                  <path d="M12 0C5.383 0 0 5.383 0 12C0 18.617 5.383 24 12 24C18.617 24 24 18.617 24 12C24 5.383 18.617 0 12 0ZM9.765 16.5219C9.43197 16.73 9 16.4906 9 16.0979V7.90212C9 7.50941 9.43198 7.26998 9.765 7.47812L16.3216 11.576C16.6349 11.7718 16.6349 12.2282 16.3216 12.424L9.765 16.5219Z" fill="white"/>
                                  </g>
                                  <defs>
                                  <clipPath id="clip0_1_1411">
                                  <rect width="24" height="24" fill="white"/>
                                  </clipPath>
                                  </defs>
                                </svg>
                              </div>
                              {{ block.settings.main_video_url | video_tag: image_size: '600x', controls: false, autoplay: false, loop: true }}
                            </div>
                          {%- else -%}  
                            {%- if block.settings.main_desktop_image != blank and block.settings.main_mobile_image != blank -%}
                              <div class="Page_videos_images_slider_innerloop_innerbox_videoimage_new">
                                {%- if block.settings.main_desktop_image != blank -%}
                                  {%- assign img_url = block.settings.main_desktop_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                                  <img class="desktop_image_new lazyload"
                                    data-src="{{ img_url }}"
                                    data-widths="[180, 360, 540, 750, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
                                    data-aspectratio="{{ block.settings.main_desktop_image.aspect_ratio }}"
                                    data-sizes="auto"
                                    alt="{{ block.settings.main_desktop_image.alt }}">
                                {%- endif -%}
                                {%- if block.settings.main_mobile_image != blank -%}
                                  {%- assign img_url = block.settings.main_mobile_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                                  <img class="mobile_image_new lazyload"
                                    data-src="{{ img_url }}"
                                    data-widths="[180, 360, 540, 750, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
                                    data-aspectratio="{{ block.settings.main_mobile_image.aspect_ratio }}"
                                    data-sizes="auto"
                                    alt="{{ block.settings.main_mobile_image.alt }}">
                                {%- endif -%}
                              </div>
                            {%- endif -%}
                          {%- endif -%}
                        </div>
                      </div>
                    {%- endif -%}
                  {%- endfor -%}
                </div>
                <div class="custom_swipe_new">
                  <div class="swiper-button-prev">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M10 3.5L5.5 8L10 12.5" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                  <div class="swiper-pagination"></div>
                  <div class="swiper-button-next">
                    <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M7 3.5L11.5 8L7 12.5" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        {%- endif -%}
        {%- if section.settings.main_button_text != blank and section.settings.main_button_link != blank -%}
          <div class="Page_videos_images_slider_mainbutton_new">
            <a href="{{ section.settings.main_button_link }}" class="btn btn_new">
              {{ section.settings.main_button_text }}
            </a>
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
{%- endif -%}

{% schema %}
  {
    "name": "Page Videos Images Slider",
    "class": "Page_videos_images_slider_new",
    "settings": [
      {
        "type": "text",
        "id": "customClass",
        "label": "Add Custom Class",
        "info": "Page_bfcm_videos_images_slider_new"
      },
      {
        "type": "color",
        "id": "main_back_color",
        "label": "Add Main Background Color",
        "default": "#222222"
      },
      {
        "type": "image_picker",
        "id": "main_desktop_line_image",
        "label": "Add Main Desktop Line Image"
      },
      {
        "type": "image_picker",
        "id": "main_mobile_line_image",
        "label": "Add Main Mobile Line Image"
      },
      {
        "type": "color",
        "id": "main_line_color",
        "label": "Add Main Line Background Color",
        "default": "#141414"
      },
      {
        "type": "image_picker",
        "id": "main_logo_image",
        "label": "Add Main Logo Image"
      },
      {
        "type": "textarea",
        "id": "main_heading_text",
        "label": "Add Main Heading Text",
        "default": "Clutch on the go"
      },
      {
        "type": "text",
        "id": "main_button_text",
        "label": "Add Main Button Text",
        "default": "Shop Now"
      },
      {
        "type": "text",
        "id": "main_button_link",
        "label": "Add Main Button Link",
        "default": "#shop"
      }
    ],
    "blocks": [
      {
        "type": "information",
        "name": "Information",
        "settings": [
          {
            "type": "video_url",
            "id": "vimeo_video_url",
            "label": "Add Vimeo Video Url",
            "info": "EX: https://vimeo.com/794623657",
            "accept": ["vimeo"]
          },
          {
            "type": "video",
            "id": "main_video_url",
            "label": "Add Main MP4 Video"
          },
          {
            "type": "image_picker",
            "id": "main_desktop_image",
            "label": "Add Main Desktop Image"
          },
          {
            "type": "image_picker",
            "id": "main_mobile_image",
            "label": "Add Main Mobile Image"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Page Videos Images Slider",
        "blocks": [
          {
            "type": "information"
          },
          {
            "type": "information"
          },
          {
            "type": "information"
          }
        ]
      }
    ]
  }
{% endschema %}