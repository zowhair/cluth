{%- if section.settings.main_heading_text != blank or section.settings.main_infos_text != blank or section.blocks.size > 0 or section.settings.main_video_url != blank or section.settings.main_desktop_image != blank or section.settings.main_mobile_image != blank -%}
  <div class="Page_image_video_steps_main_new" style="background: {{ section.settings.main_back_color }};">
    <div class="Page_image_video_steps_inner_new" style="background: {{ section.settings.inner_back_color }};">
      <div class="page-width">
        <div class="Page_image_video_steps_detail_new">
          {%- if section.settings.main_heading_text != blank or section.settings.main_infos_text != blank -%}
            <div class="Page_image_video_steps_detail_1_new">
              {%- if section.settings.main_heading_text != blank -%}
                <div class="common_title_new Page_image_video_steps_detail_1_title_new">
                  <h2>{{ section.settings.main_heading_text }}</h2>
                </div>
              {%- endif -%}
              {%- if section.settings.main_infos_text != blank -%}
                <div class="Page_image_video_steps_detail_1_infos_new">
                  {{ section.settings.main_infos_text }}
                </div>
              {%- endif -%}
            </div>
          {%- endif -%}
          {%- if section.blocks.size > 0 or section.settings.main_video_url != blank or section.settings.main_desktop_image != blank or section.settings.main_mobile_image != blank -%}
            <div class="Page_image_video_steps_detail_2_new">
              <div class="Page_image_video_steps_detail_2_leftrightboth_new">
                {%- if section.settings.main_video_url != blank or section.settings.main_desktop_image != blank or section.settings.main_mobile_image != blank -%}
                  <div class="Page_image_video_steps_detail_2_mainleft_new">
                    <div class="Page_image_video_steps_detail_2_innerleft_new">
                      <div class="Page_image_video_steps_detail_2_innerleft_videoimageboth_new">
                        {%- if section.settings.main_video_url != blank -%}
                          <div class="Page_image_video_steps_detail_2_innerleft_videoimage_new">
                            {{ section.settings.main_video_url | video_tag: controls: false, autoplay: true, loop: true }}
                          </div>
                        {% else %}  
                          {%- if section.settings.main_desktop_image != blank and section.settings.main_mobile_image != blank -%}
                            <div class="Page_image_video_steps_detail_2_innerleft_videoimage_new">
                              {%- if section.settings.main_desktop_image != blank -%}
                                {%- assign img_url = section.settings.main_desktop_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                                <img class="desktop_image_new lazyload"
                                  data-src="{{ img_url }}"
                                  data-widths="[180, 360, 540, 750, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
                                  data-aspectratio="{{ section.settings.main_desktop_image.aspect_ratio }}"
                                  data-sizes="auto"
                                  alt="{{ section.settings.main_desktop_image.alt }}">
                              {%- endif -%}
                              {%- if section.settings.main_mobile_image != blank -%}
                                {%- assign img_url = section.settings.main_mobile_image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                                <img class="mobile_image_new lazyload"
                                  data-src="{{ img_url }}"
                                  data-widths="[180, 360, 540, 750, 900, 1080, 1296, 1512, 1728, 1944, 2048]"
                                  data-aspectratio="{{ section.settings.main_mobile_image.aspect_ratio }}"
                                  data-sizes="auto"
                                  alt="{{ section.settings.main_mobile_image.alt }}">
                              {%- endif -%}
                            </div>
                          {%- endif -%}
                        {%- endif -%}
                      </div>
                    </div>
                  </div>
                {%- endif -%}
                {%- if section.blocks.size > 0 -%}
                  <div class="Page_image_video_steps_detail_2_mainright_new">
                    <div class="Page_image_video_steps_detail_2_innerright_new">
                      <style>
                        @media(min-width:0px) and (max-width:768px){
                          .Page_image_video_steps_detail_2_innerright_new{ background: {{ section.settings.inner_back_color }}; }
                        }
                      </style>
                      {%- for block in section.blocks -%}
                        {%- if block.settings.title != blank or block.settings.infos != blank -%}
                          <div class="Page_image_video_steps_detail_2_innerright_mainbox_new">
                            <div class="Page_image_video_steps_detail_2_innerright_innerbox_new">
                              {%- if block.settings.title != blank -%}
                                <div class="Page_image_video_steps_detail_2_innerright_innerbox_title_new">
                                  <div class="Page_image_video_steps_detail_2_innerright_innerbox_titleicon_new">
                                    <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_285_3156)"><path d="M10.0148 9.47C10.4004 6.5975 10.7775 3.78796 11.1545 0.978421C11.0957 0.960875 11.0381 0.943328 10.9793 0.925781C9.17746 4.39384 7.37559 7.86293 5.54169 11.395H9.3633C8.84955 14.2572 8.34648 17.0646 7.84235 19.8721C7.90536 19.8897 7.96731 19.9082 8.03033 19.9258C9.82045 16.4763 11.6116 13.0279 13.4584 9.47H10.0138H10.0148Z" fill="#34B0F7"/></g><defs><clipPath id="clip0_285_3156"><rect width="19" height="19" fill="white" transform="translate(0 0.925781)"/></clipPath></defs></svg>
                                  </div>
                                  <div class="Page_image_video_steps_detail_2_innerright_innerbox_titletext_new">
                                    {{ block.settings.title }}
                                  </div>  
                                </div>
                              {%- endif -%}
                              {%- if block.settings.infos != blank -%}
                                <div class="Page_image_video_steps_detail_2_innerright_innerbox_infos_new">
                                  {{ block.settings.infos }}
                                </div>
                              {%- endif -%}
                            </div>
                          </div>
                        {%- endif -%}
                      {%- endfor -%}
                    </div>
                  </div>
                {%- endif -%}  
              </div>
            </div>
          {%- endif -%}
        </div>
      </div>
    </div>
  </div>
{%- endif -%}  

{% schema %}
  {
    "name": "Page Image Video Steps",
    "class": "Page_image_video_steps_new",
    "settings": [
      {
        "type": "color",
        "id": "main_back_color",
        "label": "Add Main Background Color",
        "default": "#141414"
      },
      {
        "type": "color",
        "id": "inner_back_color",
        "label": "Add Inner Background Color",
        "default": "#262626"
      },
      {
        "type": "textarea",
        "id": "main_heading_text",
        "label": "Add Main Heading Text",
        "default": "Never worry about running out of phone battery again"
      },
      {
        "type": "richtext",
        "id": "main_infos_text",
        "label": "Add Main Information Text",
        "default": "<p>Ensure safety for yourself and loved ones with the Clutch Pro: our portable, magnetic, lightweight charger.</p>"
      },
      {
        "type": "video",
        "id": "main_video_url",
        "label": "Add Main MP4 Video"
      },
      {
        "type": "image_picker",
        "id": "main_desktop_image",
        "label": "Add Main Desktop Image"
      },
      {
        "type": "image_picker",
        "id": "main_mobile_image",
        "label": "Add Main Mobile Image"
      }
    ],
    "blocks": [
      {
        "type": "information",
        "name": "Information",
        "settings": [
          {
            "type": "textarea",
            "id": "title",
            "label": "Add Inner Heading List Text",
            "default": "Lorem ipsum dolor sit amet."
          },
          {
            "type": "richtext",
            "id": "infos",
            "label": "Add Inner Information List Text",
            "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Page Image Video Steps",
        "blocks": [
          {
            "type": "information"
          },
          {
            "type": "information"
          },
          {
            "type": "information"
          }
        ]
      }
    ]
  }
{% endschema %}